<!-- <app-header></app-header> -->

<div class="container" style="display: block;">
    <div class="row">
      <div class="col-lg-12 col-md-12 col-sd-12">
          <div class="HeadContainer">
              <img src="assets/logo1.png" class="rtbImg" alt="">
              <div class="header">
                  <span class="ibhead">Futures Activity</span>
              </div>
          </div>
      </div>
    
    </div>
    <div class="row">
      <div class="main">
  
  <div class="quiz-container" >
    <div class="stepper-wrapper" *ngIf="!this.qdata.quizComplete">
      <div class="stepper-item completed" [class.completed]="1 < currentQuestion.id" [class.active]="1 === currentQuestion.id">
        <div class="step-counter">1</div>
      </div>
      <div class="stepper-item completed" [class.completed]="2 < currentQuestion.id" [class.active]="2 === currentQuestion.id">
        <div class="step-counter">2</div>
      </div>
      <div class="stepper-item active" [class.completed]="3 < currentQuestion.id" [class.active]="3 === currentQuestion.id">
        <div class="step-counter">3</div>
      </div>
      <div class="stepper-item" [class.completed]="4 < currentQuestion.id" [class.active]="4 === currentQuestion.id">
        <div class="step-counter">4</div>
      </div>
      <div class="stepper-item completed" [class.completed]="5 < currentQuestion.id" [class.active]="5 === currentQuestion.id">
        <div class="step-counter">5</div>
      </div>
      <div class="stepper-item active" [class.completed]="6 < currentQuestion.id" [class.active]="6 === currentQuestion.id">
        <div class="step-counter">6</div>
      </div>
      <div class="stepper-item" [class.completed]="7 < currentQuestion.id" [class.active]="7 === currentQuestion.id">
        <div class="step-counter">7</div>
      </div>
    </div>
     <!-- <div >
      <h2 class="Questionshow" *ngIf="!this.qdata.quizComplete">Question  {{currentQuestion.id}}/7</h2>
     </div> -->
     <div style="background-color: #f2f4fc; margin-left: 85px !important;margin-right: 85px; border-radius: 5px;">

      <div class="image-container" *ngIf="!this.qdata.quizComplete" >
        <img class="imgheight" src="assets/futures.png" alt="Quiz Image" [ngClass]="{'blurred': isBackgroundBlurred}" (click)="enlargeImage()"/>
      </div>
      
      <div *ngIf="isImageEnlarged" class="enlarged">
        <img  src="assets/futures.png" alt="Quiz Image" />
        <div class="close-button" (click)="closeEnlargedView()">âœ–</div>
      </div>
     
      <div class="question-container" *ngIf="!this.qdata.quizComplete">

        <div class="col-lg-8 col-md-8 col-sd-12" style="height: 70px;">
          <h2 class="pb-3" style="font-family:system-ui;text-align: center;font-size: 22px;">{{ currentQuestion.text }}</h2>
        </div>
    
        <div style="height: 50px;">
        <ng-container *ngIf="currentQuestion.id === 1">
          <div >
            <input type="month" id="monthYear" [(ngModel)]="this.qdata.userAnswers[0]" />
          </div>
        </ng-container>
  
        <ng-container *ngIf="currentQuestion.id === 2"  >
          <!-- <div class="d-flex">
          <p class="dollars">$</p>
          <input type="text" [(ngModel)]="this.qdata.userAnswers[1]" placeholder="Type your answer..." />
        </div> -->
        <div class="currency-wrap">
          <span class="currency-code">$</span>
          <input type="text" [(ngModel)]="this.qdata.userAnswers[1]" class="text-currency"/>
        </div>
        </ng-container>
  
        <ng-container *ngIf="currentQuestion.id === 3">
          <div class="d-flex">
            
              <input type="text" class="w-50" [(ngModel)]="this.qdata.userAnswers[2]"  placeholder="tick size..." />
              <div class="currency-wrap" style="margin-left: 5px;">
                <span class="currency-code">$</span>
                <input type="text" [(ngModel)]="this.qdata.ans32" class="text-currency"/>
              </div>
            
          </div>
        </ng-container>
  
        <ng-container *ngIf="currentQuestion.id === 4 ">
          <div>
          <button type="button" (click)="setUserAnswer4('Long')"  [class.active]="this.qdata.userAnswers[3] === 'Long'" class="btn btn-lg  btn-success btn-green"  data-bs-toggle="button" >Long</button>
          <button  type="button" class="btn btn-lg  btn-danger btn-red"  [class.active]="this.qdata.userAnswers[3] === 'Short'" data-bs-toggle="button" (click)="setUserAnswer4('Short')"  >Short</button>
        </div>
        </ng-container>
  
        <ng-container *ngIf=" currentQuestion.id === 5">
          <div>
          <button type="button" (click)="setUserAnswer5('Long')"  [class.active]="this.qdata.userAnswers[4] === 'Long'" class="btn btn-lg  btn-success btn-green"  data-bs-toggle="button" >Long</button>
          <button  type="button" class="btn btn-lg  btn-danger btn-red"  [class.active]="this.qdata.userAnswers[4] === 'Short'" data-bs-toggle="button" (click)="setUserAnswer5('Short')"  >Short</button>
        </div>
        </ng-container>
  
        <ng-container *ngIf="currentQuestion.id == 6"  >
          <!-- <div class="d-flex">
          <p class="dollars">$</p>
          <input type="text" [(ngModel)]="this.qdata.userAnswers[5]" placeholder="Type your answer..." />
        </div> -->
        <div class="currency-wrap">
          <span class="currency-code">$</span>
          <input type="text" [(ngModel)]="this.qdata.userAnswers[5]" class="text-currency"/>
        </div>
        </ng-container>
  
        <ng-container *ngIf="currentQuestion.id === 7">
          <div  class="d-flex align-items-center">
            <!-- <p class="dollars">$</p>
            <input type="text" [(ngModel)]="this.qdata.userAnswers[6]" class="w-50" placeholder="Type your answer..." /> -->
            <div class="currency-wrap">
              <span class="currency-code">$</span>
              <input type="text" [(ngModel)]="this.qdata.userAnswers[6]" class="text-currency"/>
            </div>
            <select class="dropdownpnl" [(ngModel)]="this.qdata.profitLoss" placeholder="P/L">
              <option value="profit">Profit</option>
              <option value="loss">Loss</option>
            </select>
          </div>
        </ng-container>

        <div *ngIf="!this.qdata.quizComplete">
          <p [ngClass]="{'red-text': isRedText(), 'green-text': !isRedText()}" class="messageres">{{ this.qdata.resultMessage }}</p>
        </div>

        </div>
      </div>

  
      <div *ngIf="!this.qdata.quizComplete" class="qbuttons">
        <!-- <button class="navigation-button" *ngIf="currentQuestion.id !== 1" (click)="previousQuestion()" ><i class="bi mr2 bi-arrow-left" ></i>Back</button> -->
        <!-- <p *ngIf="currentQuestion.id == 1" class="firstp"></p> -->
        <button class="button-58" (click)="checkAnswer()" style="margin-bottom: 20px;">Submit</button>
        <!-- <button class="navigation-button " *ngIf="currentQuestion.id !== 7" (click)="nextQuestion()" >Next<i class="bi ml2 bi-arrow-right" ></i></button> -->
        <button class="button-58" *ngIf="currentQuestion.id == 7" style="margin-bottom: 20px; margin-left: 10px;" (click)="endQuiz()" >End Quiz</button>
        
      </div>


       <a id="back-button" *ngIf="currentQuestion.id !== 1 && !this.qdata.quizComplete" (click)="previousQuestion()"><span>&#9668;&#9668;</span></a>
      <a  id="arrow" *ngIf="currentQuestion.id !== 7 && !this.qdata.quizComplete" (click)="nextQuestion()"><span>&#9658;&#9658;</span></a>
    </div>
  
      <!-- <div *ngIf="!this.qdata.quizComplete">
        <p class="result-message">{{ this.qdata.resultMessage }}</p>
      </div> -->
      
      <div class="result-container" *ngIf="this.qdata.quizComplete" >
        <!-- <h2 class="resmesg">{{ this.qdata.resultMessage }}</h2> -->
        <div>
          <div>
            <h2 style="font-weight: 800;font-size: xxx-large; font-family: Source Sans Pro;">Results</h2>
          </div>

          <div class="result-circles">
            <div class="circle" [class.correct]="this.qdata.checkanswer[0] === 1" [class.incorrect]="this.qdata.checkanswer[0] !== 1">1</div>
            <div class="circle" [class.correct]="this.qdata.checkanswer[1] === 1" [class.incorrect]="this.qdata.checkanswer[1] !== 1">2</div>
            <div class="circle" [class.correct]="this.qdata.checkanswer[2] === 1" [class.incorrect]="this.qdata.checkanswer[2] !== 1">3</div>
            <div class="circle" [class.correct]="this.qdata.checkanswer[3] === 1" [class.incorrect]="this.qdata.checkanswer[3] !== 1">4</div>
            <div class="circle" [class.correct]="this.qdata.checkanswer[4] === 1" [class.incorrect]="this.qdata.checkanswer[4] !== 1">5</div>
            <div class="circle" [class.correct]="this.qdata.checkanswer[5] === 1" [class.incorrect]="this.qdata.checkanswer[5] !== 1">6</div>
            <div class="circle" [class.correct]="this.qdata.checkanswer[6] === 1" [class.incorrect]="this.qdata.checkanswer[6] !== 1">7</div>
          </div>

          <h3 class="py-3">Your Score is : <span><b>{{this.qdata.correctAnswers}} out of 7 !</b></span></h3>
          <div style="display: flex;">
          <img src="assets/a.jpg" style="height: 250px;"/>
          <div id="chart" style="margin-top: 20px;">
            <apx-chart
              [series]="chartOptions.series"
              [chart]="chartOptions.chart"
              [plotOptions]="chartOptions.plotOptions"
              [labels]="chartOptions.labels"
            ></apx-chart>
          </div>
          </div>
          <div style="margin-top: 30px;">
          <button class="download-button" *ngIf="currentQuestion.id == 7" (click)="startAgain()" >Start Again</button>
          <button class="download-button" (click)="downloadFile()"><i class="bi mr2 bi-download" ></i> Download Answers</button>
          <!-- <button class="download-button" (click)="review()"><i class="bi mr2 bi-download" ></i> Review Answers</button> -->
        </div>
        </div>
      </div>
    </div>
  
      </div>
    </div>
  </div>